function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){o[e]=n},n.parcelRequired7c6=r);var i=r("7Y9D8"),a=r("fZKcF"),s=r("18XA8");const c=document.getElementById("search-form"),l=document.querySelector(".gallery"),f=new(0,s.ImagesAPI),p=new(e(a))(".gallery a",{captionsData:"alt",captionDelay:"250"}),u=new IntersectionObserver((async function(e,n){e.forEach((async e=>{if(e.isIntersecting){f.page+=1,n.unobserve(e.target);try{const{hits:e,totalHits:n}=await f.getImages();if(d(e),function(){const{height:e}=l.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}(),p.refresh(),f.page<n/f.per_page){const e=document.querySelector(".photo-card:last-child");u.observe(e)}else m()}catch(e){g(e),console.log(e)}}}))}),{root:null,rootMargin:"100px",threshold:1});function d(e){const n=e.map((({webformatURL:e,largeImageURL:n,tags:t,likes:o,views:r,comments:i,downloads:a})=>`<div class="photo-card">\n        <a class="photo-card__item" href="${n}">\n          <div class="photo-card__tumb">\n            <img class="photo-card__img" src="${e}" alt="${t}" loading="lazy" />\n          </div>\n          <div class="info">\n            <p class="info-item">\n              <b class="info-item__param">Likes</b>\n              <span class="info-item__num">${o}</span>\n            </p>\n            <p class="info-item">\n              <b class="info-item__param">Views</b>\n              <span class="info-item__num">${r}</span>\n            </p>\n            <p class="info-item">\n              <b class="info-item__param">Comments</b>\n              <span class="info-item__num">${i}</span>\n            </p>\n            <p class="info-item">\n              <b class="info-item__param">Downloads</b>\n              <span class="info-item__num">${a}</span>\n            </p>\n          </div>\n        </a>\n      </div>`)).join("");l.insertAdjacentHTML("beforeend",n),p.refresh()}function m(){e(i).Notify.info("We're sorry, but you've reached the end of search results.",{position:"center-center"})}function g(n){e(i).Notify.failure(`Oops! Something went wrong. You caught the following error: ${n.message}.`,{position:"center-center"})}c.addEventListener("submit",(async function(n){if(n.preventDefault(),l.innerHTML="",f.page=1,f.query=n.currentTarget.elements.searchQuery.value.trim(),""===f.query)return void e(i).Notify.info("To search for pictures you need to specify what you are looking for.",{position:"center-center"});try{const{hits:n,totalHits:o}=await f.getImages();if(!o)return void e(i).Notify.failure("Sorry, there are no images matching your search query. Please try again.",{position:"center-center"});if(t=o,e(i).Notify.success(`Hooray! We found ${t} images.`,{position:"center-center"}),d(n),o<f.page*f.per_page)return void m();if(f.page<o/f.per_page){const e=document.querySelector(".photo-card:last-child");u.observe(e)}}catch(e){console.log(e),g(e)}var t}));
//# sourceMappingURL=infinite-scroll.edf3d78b.js.map
