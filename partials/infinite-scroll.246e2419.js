!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("6JpON"),c=a("5IjG7"),u=a("9P9rw"),l=document.getElementById("search-form"),p=document.querySelector(".gallery"),f=new(0,u.ImagesAPI),d=new(e(c))(".gallery a",{captionsData:"alt",captionDelay:"250"}),m=new IntersectionObserver((function(e,n){return g.apply(this,arguments)}),{root:null,rootMargin:"100px",threshold:1});function h(){return(h=e(o)(e(i).mark((function n(t){var r,a,o,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p.innerHTML="",f.page=1,f.query=t.currentTarget.elements.searchQuery.value.trim(),""!==f.query){e.next=7;break}return x(),e.abrupt("return");case 7:return e.prev=7,e.next=10,f.getImages();case 10:if(r=e.sent,a=r.hits,o=r.totalHits){e.next=16;break}return v(),e.abrupt("return");case 16:if(_(o),y(a),!(o<f.page*f.per_page)){e.next=21;break}return b(),e.abrupt("return");case 21:f.page<o/f.per_page&&(s=document.querySelector(".photo-card:last-child"),m.observe(s)),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(7),console.log(e.t0),w(e.t0);case 28:case"end":return e.stop()}}),n,null,[[7,24]])})))).apply(this,arguments)}function g(){return g=e(o)(e(i).mark((function n(t,r){return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.forEach(function(){var n=e(o)(e(i).mark((function n(t){var a,o,s,c;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isIntersecting){e.next=19;break}return f.page+=1,r.unobserve(t.target),e.prev=3,e.next=6,f.getImages();case 6:a=e.sent,o=a.hits,s=a.totalHits,y(o),k(),d.refresh(),f.page<s/f.per_page?(c=document.querySelector(".photo-card:last-child"),m.observe(c)):b(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),w(e.t0),console.log(e.t0);case 19:case"end":return e.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)}))),g.apply(this,arguments)}function y(e){var n=e.map((function(e){var n=e.webformatURL,t=e.largeImageURL,r=e.tags,a=e.likes,o=e.views,i=e.comments,s=e.downloads;return'<div class="photo-card">\n        <a class="photo-card__item" href="'.concat(t,'">\n          <div class="photo-card__tumb">\n            <img class="photo-card__img" src="').concat(n,'" alt="').concat(r,'" loading="lazy" />\n          </div>\n          <div class="info">\n            <p class="info-item">\n              <b class="info-item__param">Likes</b>\n              <span class="info-item__num">').concat(a,'</span>\n            </p>\n            <p class="info-item">\n              <b class="info-item__param">Views</b>\n              <span class="info-item__num">').concat(o,'</span>\n            </p>\n            <p class="info-item">\n              <b class="info-item__param">Comments</b>\n              <span class="info-item__num">').concat(i,'</span>\n            </p>\n            <p class="info-item">\n              <b class="info-item__param">Downloads</b>\n              <span class="info-item__num">').concat(s,"</span>\n            </p>\n          </div>\n        </a>\n      </div>")})).join("");p.insertAdjacentHTML("beforeend",n),d.refresh()}function v(){e(s).Notify.failure("Sorry, there are no images matching your search query. Please try again.",{position:"center-center"})}function b(){e(s).Notify.info("We're sorry, but you've reached the end of search results.",{position:"center-center"})}function _(n){e(s).Notify.success("Hooray! We found ".concat(n," images."),{position:"center-center"})}function w(n){e(s).Notify.failure("Oops! Something went wrong. You caught the following error: ".concat(n.message,"."),{position:"center-center"})}function x(){e(s).Notify.info("To search for pictures you need to specify what you are looking for.",{position:"center-center"})}function k(){var e=p.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}l.addEventListener("submit",(function(e){return h.apply(this,arguments)}))}();
//# sourceMappingURL=infinite-scroll.246e2419.js.map
